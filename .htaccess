<IfModule mod_rewrite.c>
    Options -Indexes
    ErrorDocument 404 /view/404/index.php

    RewriteEngine On
    # Le decimos que todo es relativo a esta carpeta
    RewriteBase /certificado/

    # Si existe archivo o directorio real, sirvelo
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Cualquier /api/... → router.php
    RewriteRule ^api/(.*)$ router.php [L,QSA]

    # /logout/ → view/html/Logout.php
    RewriteRule ^logout/?$ view/html/Logout.php [L,QSA]

    # Rutas amigables a carpetas bajo view/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^([^/]+)/?$ view/$1/index.php [L,QSA]

    # Catch-all → index.php (login)
    RewriteRule ^.*$ index.php [L,QSA]
    
</IfModule>